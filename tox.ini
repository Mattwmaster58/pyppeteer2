[tox]
envlist = py{36,37,38},flake8

[testenv]
whitelist_external = poetry
deps = py3{6,7,8}: -r requirements-test.txt
commands =
  py3{6,7,8}: pyppeteer-install
  py3{6,7,8}: pytest {posargs}

[testenv:flake8]
deps =
  flake8
  black
commands =
  flake8 ./
  black --check


[flake8]
max-line-length = 99
exclude = docs,.svn,CVS,.bzr,.hg,.git,__pycache__,.tox,.eggs,*.egg,out
max-complexity = 7

[pydocstyle]
ignore = D105,D107,D203,D213,D402,D404
match_dir = (?!(tmp|docs|ja_docs|tests|\.)).*
