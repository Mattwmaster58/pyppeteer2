[tox]
envlist = py{36,37,38},flake8

[testenv]
whitelist_external = poetry
deps = py36,py37,py38: -requirements-test.txt
commands =
  pyppeteer-install
  py36: python -m unittest discover
  py37: python -m unittest discover
  py38: python -m unittest discover

[testenv:flake8]
deps = flake8
commands = flake8 ./

[testenv:codecov]
passenv = CI TRAVIS TRAVIS_*
deps = codecov
skip_install = true
commands =
  codecov


[flake8]
max-line-length
exclude = docs,.svn,CVS,.bzr,.hg,.git,__pycache__,.tox,.eggs,*.egg,out
max-complexity = 7

[pydocstyle]
ignore = D105,D107,D203,D213,D402,D404
match_dir = (?!(tmp|docs|ja_docs|tests|\.)).*
